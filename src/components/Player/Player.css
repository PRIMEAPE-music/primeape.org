.player {
  width: 100%;
  max-width: 1400px; /* Increased to accommodate floating boxes */
  margin: 0 auto;
  padding: var(--space-xl) var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

/* Ensure player doesn't get squished on small screens */
@media (max-width: 768px) {
  .player {
    padding: var(--space-md);
  }
}

/* Hidden audio element */
.player audio {
  display: none;
}

.player__secondary-controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  padding: var(--space-sm) 0;
}

.player__version-row {
  display: flex;
  justify-content: center;
  padding: var(--space-sm) 0;
}

/* ============================================================================
   PLAYER MAIN AREA - FLOATING BOX LAYOUT
   ============================================================================ */

.player__main-area {
  display: grid;
  grid-template-columns: 380px 1fr 427px; /* LEFT | CENTER | RIGHT */
  gap: var(--space-xl);
  padding: var(--space-xl) 0;
  position: relative;
  min-height: 800px;
  align-items: start;
}

/* ============================================================================
   CENTER COLUMN - ARTWORK + TRACK INFO + TIME + WAVEFORM
   ============================================================================ */

.player__center-column {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-md); /* 16px spacing between all components */
  width: 100%; /* Allow full width for waveform */
  max-width: 900px; /* Increased to accommodate integrated lyrics box */
  justify-self: center; /* Center within grid cell */
}

/* Ensure center column is properly sized on desktop */
@media (min-width: 1100px) {
  .player__center-column {
    flex-shrink: 0; /* Prevent shrinking when lyrics panel is shown */
  }
}

/* ============================================================================
   FLOATING BOX CONTAINERS
   ============================================================================ */

.player__floating-box {
  flex-shrink: 0;
  align-self: center;
}

/* Hide floating boxes on tablet and mobile */
@media (max-width: 1099px) {
  .player__floating-box {
    display: none !important;
  }
}

/* Show floating boxes on desktop */
@media (min-width: 1100px) {
  .player__floating-box {
    display: block;
  }

  /* Tracklist box - LEFT side */
  .player__floating-box--tracklist {
    width: 380px;
    height: 750px;
    order: -1; /* Ensure tracklist appears first (LEFT) */
  }

  /* Lyrics box - RIGHT side */
  .player__floating-box--lyrics {
    order: 1; /* Ensure lyrics appears last (RIGHT) */
  }

  /* Artwork naturally centers */
  .player__main-area .artwork {
    align-self: center;
  }
}

/* ============================================================================
   MOBILE/TABLET LYRICS PANEL
   ============================================================================ */

.player__mobile-lyrics-panel {
  display: none;
}

/* Show mobile panel on tablet and mobile when lyrics are visible */
@media (max-width: 1099px) {
  .player__mobile-lyrics-panel {
    display: block;
  }

  .player__main-area {
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: auto;
    gap: var(--space-md);
    grid-template-columns: none;
  }
}

/* Desktop: hide mobile panel */
@media (min-width: 1100px) {
  .player__mobile-lyrics-panel {
    display: none;
  }
}

/* ============================================================================
   RESPONSIVE ADJUSTMENTS
   ============================================================================ */

@media (max-width: 1099px) {
  .player {
    max-width: var(--player-max-width);
    padding: var(--space-lg) var(--space-md);
  }
}

@media (max-width: 768px) {
  .player {
    padding: var(--space-md);
  }

  .player__main-area {
    padding: var(--space-md) 0;
  }
}