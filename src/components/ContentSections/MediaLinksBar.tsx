import React from 'react';
import './MediaLinksBar.css';
import { trackSocialClick } from '@/utils/analytics';

interface PlatformLink {
  id: string;
  name: string;
  url: string;
  ariaLabel: string;
}

const PLATFORM_LINKS: PlatformLink[] = [
  {
    id: 'youtube',
    name: 'YouTube',
    url: 'https://youtube.com/@PRIMEAPE-music',
    ariaLabel: 'Visit PRIMEAPE on YouTube'
  },
  {
    id: 'spotify',
    name: 'Spotify',
    url: 'https://open.spotify.com/artist/',
    ariaLabel: 'Listen to PRIMEAPE on Spotify'
  },
  {
    id: 'instagram',
    name: 'Instagram',
    url: 'https://instagram.com/primeape.music',
    ariaLabel: 'Follow PRIMEAPE on Instagram'
  },
  {
    id: 'bandcamp',
    name: 'Bandcamp',
    url: 'https://primeape.bandcamp.com',
    ariaLabel: 'Support PRIMEAPE on Bandcamp'
  },
  {
    id: 'apple',
    name: 'Apple Music',
    url: 'https://music.apple.com/artist/',
    ariaLabel: 'Listen to PRIMEAPE on Apple Music'
  },
  {
    id: 'tiktok',
    name: 'TikTok',
    url: 'https://tiktok.com/@primeape.music',
    ariaLabel: 'Follow PRIMEAPE on TikTok'
  }
];

function getIcon(id: string): React.ReactNode {
  switch (id) {
    case 'youtube':
      return (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
        </svg>
      );
    case 'spotify':
      return (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/>
        </svg>
      );
    case 'instagram':
      return (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/>
        </svg>
      );
    case 'bandcamp':
      return (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M0 9.375h7.926L4.686 14.625H12l-3.24 5.25H24L20.76 9.375h-7.926l3.24-5.25H8.686z"/>
        </svg>
      );
    case 'apple':
      return (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M23.997 6.124c0-.738-.065-1.47-.24-2.19-.317-1.31-1.062-2.31-2.18-3.043C21.003.517 20.373.285 19.7.164c-.517-.093-1.038-.135-1.564-.15-.04-.003-.083-.01-.124-.013H5.988c-.152.01-.303.017-.455.026C4.786.07 4.043.15 3.34.428 2.004.958 1.04 1.88.475 3.208c-.192.448-.292.925-.363 1.408-.056.392-.088.785-.1 1.18 0 .032-.007.062-.01.093v12.223c.01.14.017.283.027.424.05.815.154 1.624.497 2.373.65 1.42 1.738 2.353 3.234 2.801.42.127.856.187 1.293.228.555.053 1.11.06 1.667.06h11.03c.525 0 1.048-.034 1.57-.1.823-.106 1.597-.35 2.296-.81a5.046 5.046 0 0 0 1.88-2.207c.186-.42.293-.87.37-1.324.113-.675.138-1.358.137-2.04-.002-3.8 0-7.595-.003-11.393zm-6.423 3.99v5.712c0 .417-.058.827-.244 1.206-.29.59-.76.962-1.388 1.14-.35.1-.706.157-1.07.173-.95.045-1.773-.6-1.943-1.536-.142-.773.227-1.624 1.038-2.022.323-.16.67-.25 1.018-.324.378-.082.758-.153 1.134-.24.274-.063.457-.23.51-.516.014-.063.02-.13.02-.193 0-1.815 0-3.63-.002-5.443 0-.062-.01-.124-.018-.186-.02-.157-.102-.254-.254-.293-.255-.066-.51-.132-.768-.19l-5.21-1.19c-.245-.06-.314-.027-.37.224-.014.063-.02.128-.02.193-.003 3.687-.002 7.373-.004 11.06 0 .33-.033.656-.15.97-.27.72-.82 1.18-1.586 1.323-.548.103-1.092.11-1.628-.05-.77-.23-1.21-.75-1.33-1.53-.13-.84.23-1.643 1.02-2.016.323-.152.663-.246 1.006-.32.437-.092.877-.177 1.312-.278.186-.043.348-.137.432-.314.04-.085.063-.178.063-.27V5.754c0-.2.022-.397.085-.586.07-.206.203-.36.408-.43.29-.098.586-.178.88-.266 1.74-.397 3.482-.794 5.222-1.19.093-.022.188-.033.28-.05.7-.12.927.097.927.81.002 1.66 0 3.323 0 4.985z"/>
        </svg>
      );
    case 'tiktok':
      return (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
        </svg>
      );
    default:
      return null;
  }
}

function MediaLinksBar() {
  return (
    <section className="media-links" aria-label="Social and streaming platforms">
      <div className="media-links__container">
        {PLATFORM_LINKS.map((platform, index) => (
          <React.Fragment key={platform.id}>
            
            <a
              href={platform.url}
              className="media-links__link"
              target="_blank"
              rel="noopener noreferrer"
              aria-label={platform.ariaLabel}
              onClick={() => trackSocialClick({ platform: platform.id })}
            >
              <span className="media-links__icon" aria-hidden="true">
                {getIcon(platform.id)}
              </span>
              <span className="media-links__text">{platform.name}</span>
            </a>
            {index < PLATFORM_LINKS.length - 1 && (
              <div className="media-links__divider" aria-hidden="true"></div>
            )}
          </React.Fragment>
        ))}
      </div>
    </section>
  );
}

export default MediaLinksBar;